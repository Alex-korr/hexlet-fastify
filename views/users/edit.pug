extends ../layouts/main.pug

block content
  .row
    .col-md-6.mx-auto
      .d-flex.justify-content-between.align-items-center.mb-4
        h1 ‚úèÔ∏è Edit User
        a.btn.btn-outline-secondary(href=routes.userPath(user.id)) ‚Üê Back to Profile
      
      // Display error message if validation failed
      if error
        .alert.alert-danger.mb-3
          strong Validation Error:
          br
          = error.message
      
      form(action=routes.userPath(user.id), method='post')
        input(type='hidden', name='_method', value='PATCH')
        
        .mb-3
          label.form-label Name:
          input.form-control(type='text', name='name', placeholder='Enter your name', value=name || user.name, required)
        
        .mb-3
          label.form-label Email:
          input.form-control(type='email', name='email', placeholder='example@mail.com', value=email || user.email, required)
        
        .mb-3
          label.form-label Password:
          input.form-control(type='password', name='password', placeholder='Leave empty to keep current password', value=password)
          small.form-text.text-muted Leave blank if you don't want to change the password
        
        .mb-3
          label.form-label Password Confirmation:
          input.form-control(type='password', name='passwordConfirmation', placeholder='Confirm new password', value=passwordConfirmation)
          small.form-text.text-muted Required only if changing password
        
        .d-grid
          button.btn.btn-primary.btn-lg(type='submit') üíæ Update User
        
        .text-center.mt-3
          a(href=routes.userPath(user.id)) ‚Üê Cancel