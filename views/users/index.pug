extends ../layouts/main.pug

block content
  .row
    .col-12
      //- Display flash messages
      if messages && messages.success && messages.success.length > 0
        .alert.alert-success.alert-dismissible.fade.show(role='alert')
          | âœ… #{messages.success[0]}
          button.btn-close(type='button', data-bs-dismiss='alert', aria-label='Close')
      
      if messages && messages.error && messages.error.length > 0
        .alert.alert-danger.alert-dismissible.fade.show(role='alert')
          | âŒ #{messages.error[0]}
          button.btn-close(type='button', data-bs-dismiss='alert', aria-label='Close')
      
      .d-flex.justify-content-between.align-items-center.mb-4
        h1 ğŸ‘¥ User List
        a.btn.btn-success(href=routes.newUserPath()) â• Add User
      
      if users.length === 0
        .alert.alert-info
          | No users yet. 
          a(href=routes.newUserPath()) Add the first one!
      else
        .row
          each user in users
            .col-md-6.mb-3
              .card
                .card-body
                  h5.card-title ğŸ‘¤ #{user.name}
                  p.card-text
                    strong Email: 
                    | #{user.email}
                  p.card-text
                    small.text-muted ID: #{user.id}
                  
                  .d-flex.gap-2.mt-3
                    a.btn.btn-primary.btn-sm(href=routes.userPath(user.id)) View
                    a.btn.btn-warning.btn-sm(href=routes.editUserPath(user.id)) Edit
                    form.d-inline(action=routes.userPath(user.id), method='post')
                      input(type='hidden', name='_method', value='DELETE')
                      button.btn.btn-danger.btn-sm(type='submit', onclick="return confirm('Are you sure you want to delete this user?')") Delete