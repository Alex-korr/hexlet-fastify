extends ../layouts/main.pug

block content
  .row
    .col-md-6.mx-auto
      .d-flex.justify-content-between.align-items-center.mb-4
        h1 ✏️ Edit Course
        a.btn.btn-outline-secondary(href=routes.coursePath(course.id)) ← Back to Course
      
      // Display error message if validation failed
      if error
        .alert.alert-danger.mb-3
          strong Validation Error:
          br
          = error.message
      
      form(action=routes.coursePath(course.id), method='post')
        input(type='hidden', name='_method', value='PATCH')
        
        .mb-3
          label.form-label Course Title:
          input.form-control(type='text', name='title', placeholder='Enter course title', value=title || course.title, required)
          small.form-text.text-muted Minimum 2 characters required
        
        .mb-3
          label.form-label Course Description:
          textarea.form-control(name='description', rows='5', placeholder='Enter detailed course description', required)= description || course.description
          small.form-text.text-muted Minimum 10 characters required
        
        .card.mb-3
          .card-header.bg-light
            h6.mb-0 📊 Current Course Stats
          .card-body
            .row
              .col-6
                strong Current Title: 
                br
                span.text-muted #{course.title}
              .col-6
                strong Current Description: 
                br
                span.text-muted #{course.description.length > 50 ? course.description.substring(0, 50) + '...' : course.description}
        
        .d-grid
          button.btn.btn-primary.btn-lg(type='submit') 💾 Update Course
        
        .text-center.mt-3
          a(href=routes.coursePath(course.id)) ← Cancel