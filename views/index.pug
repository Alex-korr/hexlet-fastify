extends layouts/main.pug

block content
  .row
    .col-md-8.mx-auto.text-center
      //- Display flash messages
      if messages && messages.success && messages.success.length > 0
        .alert.alert-success.alert-dismissible.fade.show(role='alert')
          | âœ… #{messages.success[0]}
          button.btn-close(type='button', data-bs-dismiss='alert', aria-label='Close')
      
      if messages && messages.error && messages.error.length > 0
        .alert.alert-danger.alert-dismissible.fade.show(role='alert')
          | âŒ #{messages.error[0]}
          button.btn-close(type='button', data-bs-dismiss='alert', aria-label='Close')
      
      h1.display-4 ğŸš€ Welcome!
      p.lead This is my first Fastify application with Pug templates
      
      if !visited
        .alert.alert-info.mt-3
          strong ğŸ‘‹ First time here?
          p.mb-0 This message is shown only once. If you want to see it again, clear your cookies!
      
      .mt-3
        if userId
          p Welcome back, #{userId}!
          form(action="/session/delete" method="post")
            button.btn.btn-outline-danger(type="submit") ğŸšª Logout
        else
          a.btn.btn-outline-primary(href="/session/new") ğŸ” Login
      
      hr.my-4
      p Here you can:
      .row
        .col-md-4
          .card.mb-3
            .card-body
              h5.card-title ğŸ‘¥ Users
              p.card-text Manage users: view, create, edit, delete
              .d-grid
                a.btn.btn-primary(href=routes.usersPath()) ğŸ“‹ View All Users
              .d-grid.mt-2
                a.btn.btn-info.btn-sm(href=routes.newUserPath()) â• Add New User
        .col-md-4
          .card.mb-3
            .card-body
              h5.card-title ğŸ“š Courses
              p.card-text Manage courses: view, create, edit, delete
              .d-grid
                a.btn.btn-primary(href=routes.coursesPath()) ğŸ“‹ View All Courses
              .d-grid.mt-2
                a.btn.btn-info.btn-sm(href=routes.newCoursePath()) â• Add New Course
        .col-md-4
          .card.mb-3
            .card-body
              h5.card-title ğŸ‘‹ Greeting
              p.card-text Personal greeting service
              .d-grid
                a.btn.btn-primary(href=routes.helloPath()) ğŸ‘‹ Say Hello